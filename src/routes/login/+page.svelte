<script>
    import { authenticateUser} from "../../utils/auth";
    import { goto } from '$app/navigation'

    async function signIn(evt) {
        evt.preventDefault();

        const result = {
        username: evt.target['username'].value,
        password: evt.target['password'].value, 
        }


        const res = await authenticateUser(result.username, result.password)
        if (res.success) {
            goto('/')
        }
    }
    
    
</script>

<h1 class="font-style text-center text-2xl mt-5 font-bold sm:text-4xl">LOGIN</h1>
<div class="flex justify-center items-center mt-8">
    <form on:submit={signIn} class="w-1/3">
	<div class="form-control w-full">
		<label class="label" for="username">
			<span class="label-text text-xl">Username</span>
		</label>
		<input
			type="text"
			name="username"
			placeholder="Please insert your username"
			class="input input-bordered w-full"
			required
		/>
	</div>
	<div class="form-control w-full">
		<label class="label" for="password">
			<span class="label-text text-xl">Password</span>
		</label>
		<input
			type="password"
			name="password"
			placeholder="Please insert your password"
			class="input input-bordered w-full"
			required
		/>
	</div>
    <div class="form-control w-full mt-4">
		<button class="btn text-3xl" on:submit={authenticateUser}>Log In</button>
	</div>
</form>
</div>

